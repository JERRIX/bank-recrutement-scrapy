import urllib.request
from bs4 import BeautifulSoup
import pandas as pd

url='http://www.yinhangzhaopin.com/tag/anhui_303_1.html'
html=urllib.request.urlopen(url)
htmltext=html.read().decode('ANSI').encode('UTF-8')
soup=BeautifulSoup(htmltext,"html.parser")
beautitext=soup.prettify()

handle=open(r'E:\编程\recrutement.txt', 'w', encoding='UTF-8')
handle.write(beautitext)
handle.close()

date=[x.text.strip()[0:10] for x in soup.find_all('dd','list')]
title=[]
for x in soup.find_all('dt'):
    title.append(x.text.strip())
i=0
while i<4:
    title.pop(0)
    i+=1
    
df=pd.DataFrame()
df['title']=title
df['date']=date
df.to_excel(r'E:\编程\recrutement\recrutement.xlsx')
print('DONE')

